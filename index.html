<!DOCTYPE html>
<html>
    <head>
        <title>Met Police Secure Evidence Recorder</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">        

        <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">        
        <link href="css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">        
        <link rel='stylesheet' href='css/style.css' />
        <!--[if lt IE 9]>
        <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="navbar navbar-static-top navbar-inverse">
          <div class="navbar-inner">
            <div class="container">

              <div style="display: none"
                data-bind="style: { display: 'inline', float: 'left' }">
                <!-- ko if: loggedIn -->
                  <span class="brand">Logged in as Tim Perry</span>
                  <input class='btn' type="button" value="Log out" 
                        data-bind="click: logout" />
                <!-- /ko -->
                <!-- ko ifnot: loggedIn -->
                <input class='btn' type="button" value="Log in" 
                       data-bind="click: login" />
                <!-- /ko -->
              </div>
         
              <a class="btn btn-navbar" 
                data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </a>
         
              <div class="nav-collapse collapse no-transition">
                <ul class="nav">
                  <li class="active"><a href="index.html">Record Evidence</a></li>
                  <li><a href="view.html">View Recorded</a></li>
                  <li><a href="about.html">About</a></li>
                </ul>
              </div>
         
            </div>
          </div>
        </div>
        
        <div style="text-align: center">
          <img src="img/met_logo.jpg" style="margin: auto" /><br />
        </div>

        <div class="container">
            <div data-bind="style: { display: 'none' }">
                Loading...
            </div>

            <div style="display: none" data-bind="style: { display: 'block' }">
              <h1>Secure Evidence Recorder</h1>

              <div style="text-align: center">
                <ul class="unstyled" 
                    style="text-align: center"
                    data-bind="foreach: evidence">
                  <li data-bind="switch: evidenceType">
                    <div data-bind="case: 'photo'">
                      <div data-bind="if: isRecorded">
                        <img class="img-polaroid" width="80%" 
                             data-bind="attr: { src: 'data:image/jpeg;base64,' + photoData() }" />
                        <br/>
                        Photo taken at time 
                        <span data-bind="text: timeTaken"></span>
                        at location
                        <span data-bind="text: location"></span>
                      </div>

                      <div data-bind="ifnot: isRecorded">
                        <input class="btn btn-large btn-info"
                               type="button"
                               data-bind="click: record"
                               value="Take Photo" />
                      </div>
                    </div>
                  </li>
                </ul>
                
                </br>

                <div class="btn-group">
                  <!-- ko if: isMobile -->
                  <input class="btn"
                         type="button" 
                         data-bind="click: addPhoto, enable: lastEvidenceIsRecorded"
                         value="Take Photo" />
                  <input class="btn"
                         type="button" 
                         data-bind="enable: lastEvidenceIsRecorded"
                         value="Record Audio" />
                  <!-- /ko -->
                  <input class="btn"
                         type="button" 
                         data-bind="enable: lastEvidenceIsRecorded"
                         value="Add Text" />
                </div>

                <br/><br/>

                <input class="btn btn-primary btn btn-large"
                       type="button" 
                       data-bind="enable: evidence().length > 0, click: send"
                       value="Save Evidence" />

                 <br/>&nbsp;
               </div>
            </div>
        </div>

        <script type="text/javascript" src='js/lib/phonegap.js'></script>
        <script type="text/javascript" src='js/lib/jquery-1.9.1.min.js'></script>
        <script type="text/javascript" src='js/lib/knockout-min.js'></script>
        <script type="text/javascript" src='js/lib/MobileServices.Web-1.0.0.js'></script>
        <script type="text/javascript" src='js/lib/knockout-switch-case.js'></script>
        <script type="text/javascript" src="js/lib/bootstrap.min.js"></script>        

        <script type="text/javascript" src='js/index.js'></script>
        <script type="text/javascript" src='js/common.js'></script>
    </body>
</html>

